(()=>{"use strict";var e,t={5010:(e,t,s)=>{var a=s(6540),o=s(5338),r=s(1083),n=s(4848);function l(e){let{page:t,setpage:s}=e;const[o,l]=(0,a.useState)(""),[i,c]=(0,a.useState)(""),[d,u]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{localStorage.getItem("token")}),[]),(0,n.jsx)("div",{className:"h-screen bg-slate-300 flex justify-center overflow-hidden",children:(0,n.jsx)("div",{className:"flex flex-col justify-center",children:(0,n.jsxs)("div",{className:"w-80 rounded-xl pt-3 pb-1 ",children:[(0,n.jsx)("div",{className:"flex justify-between",children:(0,n.jsx)("div",{})}),(0,n.jsxs)("div",{className:"p-4 pt-3 pb-3",children:[(0,n.jsx)("h1",{style:{fontWeight:650},className:" text-center font-sans  leading-tight text-[30px] smd:text-[39px] text-black text-opacity-80",children:"Sign in"}),(0,n.jsxs)("h1",{style:{fontWeight:100},className:" text-center font-sans  leading-tight text-[15px] smd:text-[20px] text-black text-opacity-80",children:["Dont have an account"," ",(0,n.jsx)("button",{onClick:()=>{s("signup")},style:{fontWeight:250},className:"text-blue-600 underline",children:"Sign up"})]})]}),(0,n.jsx)("div",{className:"pt-2 text-center pl-3 pr-3",children:(0,n.jsx)("h2",{children:"Enter your information to sign in"})}),(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsxs)("div",{className:"pt-2 text-center pl-3 pr-3 ",children:[(0,n.jsx)("input",{onChange:e=>{l(e.target.value)},type:"text",className:" w-[250px] bg-gray-50 border border-gray-500 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-3 mb-2",placeholder:"Email",required:!0}),(0,n.jsx)("input",{onChange:e=>{c(e.target.value)},type:"password",className:" w-[250px] bg-gray-50 border border-gray-500 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-3 ",placeholder:"*********",required:!0})]})}),(0,n.jsx)("div",{className:"pl-3 mt-4 pr-3 flex justify-center",children:(0,n.jsx)("button",{className:"bg-[rgb(47,141,113)] hover:bg-[rgb(18,107,70)] text-white py-[16px] px-20 md:py-[16px] md:px-20 rounded-md transition duration-300 font-semibold border-none text-sm "+(d?"opacity-50 cursor-not-allowed":""),onClick:()=>{u(!0),r.A.post("https://autonotebackend.shadowbites10.workers.dev/signin",{username:o,password:i}).then((e=>{if("no user found"==e.data.message)alert(e.data.message);else{const t=e.data.token;chrome.storage.local.set({autotoken69:t},(()=>{console.log("Token saved in storage.",t)})),chrome.runtime.sendMessage({action:"setToken",autotoken69:t}),console.log(e.data.token),s("dash")}})).catch((e=>{console.error("Sign-in error:",e)})).finally((()=>{u(!1)}))},children:"Sign in"})}),(0,n.jsx)("div",{className:"pb-2"}),d&&(0,n.jsx)("div",{className:"fixed top-0 left-0 right-0 bottom-0 flex items-center justify-center bg-gray-800 bg-opacity-50 z-50",children:(0,n.jsx)("div",{className:"text-white",children:"Loading..."})})]})})})}function i(e){let{page:t,setpage:s}=e;const[o,r]=(0,a.useState)(!1),[l,i]=(0,a.useState)(o),c=e=>{let{value:t}=e;chrome.runtime.sendMessage({action:"sendToContent",data:{isChecked:t}},(e=>{})),i(t)};(0,a.useEffect)((()=>{chrome.storage.local.get(["autotoken69"],(e=>{const t=e.autotoken69;t?(console.log("Token retrieved:",t),fetch("https://autonotebackend.shadowbites10.workers.dev/getalwayson",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(4)}).then((e=>e.json())).then((e=>{console.log("Received response from backend:",e),e.success?(r(e.res.alwayson),console.log("Default state updated:",e.res.alwayson)):console.error("Backend returned failure:",e)})).catch((e=>{console.error("Error updating default state:",e)}))):console.log("No token found.")}))}),[]);return(0,n.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center p-4",children:(0,n.jsxs)("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl overflow-hidden",children:[(0,n.jsx)("header",{className:"bg-gradient-to-r from-blue-600 to-purple-600 px-6 py-4",children:(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("h1",{className:"text-xl font-bold text-white",children:"AutoNote"}),(0,n.jsx)("button",{className:"text-white hover:text-gray-200 focus:outline-none",onClick:()=>{chrome.storage.local.remove(["autotoken69"],(()=>{chrome.runtime.sendMessage({action:"removeToken",autotoken69:"autotoken69"}),chrome.runtime.sendMessage({action:"removesavedtabs",laststore:"laststore"}),console.log("authToken removed from local storage")})),s("login")},children:"Log Out"})]})}),(0,n.jsx)("main",{className:"px-6 py-6",children:(0,n.jsxs)("div",{className:"flex flex-col space-y-6",children:[(0,n.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,n.jsx)("button",{className:"px-4 py-2 bg-green-500 text-white font-semibold rounded-lg hover:bg-green-600 transition duration-200",onClick:()=>c({value:!1}),children:"Show Floating Menu"}),(0,n.jsx)("button",{className:"px-4 py-2 bg-gray-500 text-white font-semibold rounded-lg hover:bg-gray-600 transition duration-200",onClick:()=>c({value:!0}),children:"Hide Floating Menu"})]}),(0,n.jsx)("hr",{className:"border-t-2 border-gray-200"}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-gray-700",children:"On Website Load:"}),(0,n.jsxs)("div",{className:"flex justify-center items-center mt-4",children:[(0,n.jsx)("span",{className:"text-sm font-medium "+(o?"text-gray-500":"text-blue-600"),children:"Always Hide"}),(0,n.jsxs)("label",{className:"mx-4 relative inline-flex items-center cursor-pointer",children:[(0,n.jsx)("input",{type:"checkbox",checked:o,onChange:()=>{chrome.storage.local.get(["autotoken69"],(e=>{const t=e.autotoken69;t?(console.log("Token retrieved:",t),fetch("https://autonotebackend.shadowbites10.workers.dev/setalwayson",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({alwayson:!o})}).then((e=>e.json())).then((e=>{console.log("Received response from backend:",e),e.success?(r(e.res.alwayson),console.log("Default state updated:",e.res.alwayson)):console.error("Backend returned failure:",e)})).catch((e=>{console.error("Error updating default state:",e)}))):console.log("No token found.")}))},className:"sr-only"}),(0,n.jsx)("div",{className:"w-14 h-8 rounded-full transition-colors duration-200 "+(o?"bg-blue-600":"bg-gray-400")}),(0,n.jsx)("div",{className:"absolute left-1 top-1 w-6 h-6 bg-white rounded-full transition-transform duration-200 "+(o?"translate-x-6":"")})]}),(0,n.jsx)("span",{className:"text-sm font-medium "+(o?"text-blue-600":"text-gray-500"),children:"Always Show"})]})]}),(0,n.jsx)("div",{className:"text-center mt-6",children:(0,n.jsxs)("a",{href:"https://sahilcodes2002.github.io/autonoteweb/#/signin",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 hover:shadow-lg transition-all duration-200",children:[(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,n.jsx)("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),(0,n.jsx)("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]}),"See all your notes"]})})]})})]})})}function c(e){let{page:t,setpage:s}=e;const[o,l]=(0,a.useState)(!1),[i,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(""),[x,m]=(0,a.useState)(0),[h,g]=(0,a.useState)(""),[p,b]=(0,a.useState)(""),[f,y]=(0,a.useState)(""),[j,v]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{localStorage.getItem("token")}),[]),(0,n.jsx)("div",{className:"",children:(0,n.jsx)("div",{className:"bg-gray-100 min-h-screen ",children:(0,n.jsxs)("div",{className:"h-screen bg-white  pb-2",children:[(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("div",{className:"flex",children:(0,n.jsx)("div",{className:"w-full flex justify-center",children:(0,n.jsx)("div",{className:"flex",children:(0,n.jsx)("span",{className:"font-sans text-3xl font-bold mt-3 text-gray-500",children:"AutoNote"})})})}),(0,n.jsx)("nav",{children:(0,n.jsx)("ul",{className:"flex space-x-1 md:space-x-4"})})]}),(0,n.jsx)("br",{className:""+(i?"hidden":""),A:!0}),(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)("div",{style:{width:"90vw"},className:"flex justify-center",children:(0,n.jsx)("div",{className:"mx-auto",children:(0,n.jsxs)("div",{className:"max-w-5xl mx-auto mt-5",children:[(0,n.jsxs)("div",{className:"max-w-2xl text-center mx-auto p-3",children:[(0,n.jsx)("p",{style:{fontWeight:650},className:" text-center font-sans  leading-tight text-[30px] smd:text-[39px] text-black text-opacity-80",children:"Automatically create notes with AutoNote"}),(0,n.jsxs)("p",{style:{fontWeight:650},className:"mt-3 text-center font-sans  leading-tight text-[15px]  text-black text-opacity-80",children:["Already have a AutoNote Account?"," ",(0,n.jsx)("button",{onClick:()=>{s("login")},style:{fontWeight:350},className:"text-blue-600 underline",children:"Sign in"})]})]}),(0,n.jsxs)("div",{className:`text-center ${i?"mt-3":"mt-10"} mx-5 `,children:[(0,n.jsx)("label",{for:"first_name",className:"block mb-2  font-medium text-gray-900 ",children:"Email"}),(0,n.jsx)("div",{className:"w-full flex justify-center",children:(0,n.jsx)("input",{onChange:e=>{g(e.target.value)},type:"text",className:"w-[250px] bg-gray-50 border border-gray-500 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-3 "+(j||o||i?"opacity-50 cursor-not-allowed":""),placeholder:"John@gmail.com",required:!0})}),(0,n.jsx)("br",{className:""+(i?"hidden":"")}),!o&&(0,n.jsxs)("button",{onClick:async()=>{if(""==h)alert("fill all the credentials");else{console.log(h),v(!0),m((e=>e+1));try{const e=await r.A.post("https://autonotebackend.shadowbites10.workers.dev/varification",{email:h.trim()});1==e.data.success&&(console.log(e.data),l(!0)),v(!1)}catch(e){console.error("Error during signup",e)}finally{v(!1)}}},className:"bg-[rgb(47,141,113)] hover:bg-[rgb(18,107,70)] text-white py-[16px] px-20 md:py-[16px] md:px-20 rounded-md transition duration-300 font-semibold border-none text-sm "+(j||o?"opacity-50 cursor-not-allowed":""),disabled:j||o,children:[!j&&(0,n.jsxs)("p",{children:[x>0&&(0,n.jsx)("p",{children:"Try again"}),0==x&&(0,n.jsx)("p",{children:"Send verification code"})]}),j&&(0,n.jsx)("p",{children:"Loading.."})]}),o&&!i&&(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{children:"Verification code is sent to your mail"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{for:"first_name",className:"block mb-2  font-medium text-gray-900 ",children:"Enter 4 digit code"}),(0,n.jsx)("div",{className:"w-full flex justify-center",children:(0,n.jsx)("input",{onChange:e=>{b(e.target.value)},type:"text",className:" w-[100px] bg-gray-50 border border-gray-500 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-3 ",placeholder:"",required:!0})})]}),!i&&(0,n.jsxs)("button",{onClick:async()=>{if(""==h)alert("please enter the code");else{console.log(h),v(!0),m((e=>e+1));try{const e=await r.A.post("https://autonotebackend.shadowbites10.workers.dev/varifycode",{email:h.trim(),code:p.trim()});1==e.data.success?(console.log(e.data),c(!0)):(l(!1),c(!1)),v(!1)}catch(e){console.error("Error during signup",e)}finally{v(!1)}}},className:"bg-[rgb(47,141,113)] hover:bg-[rgb(18,107,70)] text-white py-[16px] mt-4 px-20 md:py-[16px] md:px-20 rounded-md transition duration-300 font-semibold border-none text-sm "+(j||i?"opacity-50 cursor-not-allowed":""),disabled:j||i,children:[!j&&(0,n.jsx)("p",{children:"Send verification code"}),j&&(0,n.jsx)("p",{children:"Loading.."})]}),(0,n.jsx)("div",{})]}),i&&(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{for:"first_name",className:"block mb-2  font-medium text-gray-900 ",children:"Name"}),(0,n.jsx)("div",{className:"w-full flex justify-center",children:(0,n.jsx)("input",{maxLength:"50",onChange:e=>{u(e.target.value)},type:"text",className:" w-[250px] bg-gray-50 border border-gray-500 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-3 ",placeholder:"John",required:!0})}),(0,n.jsx)("label",{for:"first_name",className:"block mb-2  font-medium text-gray-900 ",children:"Password"}),(0,n.jsx)("div",{className:"w-full flex justify-center",children:(0,n.jsx)("input",{onChange:e=>{y(e.target.value)},type:"password",className:" w-[250px] bg-gray-50 border border-gray-500 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-3 ",placeholder:"*********",required:!0})}),(0,n.jsxs)("button",{onClick:async()=>{if(""==d||""==h||""==f)alert("fill all the credentials");else{v(!0);try{const e=await r.A.post("https://autonotebackend.shadowbites10.workers.dev/signup",{name:d,username:h,password:f});if(console.log(e.data),e.data.message&&"username already exists"==e.data.message)l(!1),c(!1),alert("alreay used email");else{const t=e.data.token;chrome.storage.local.set({autotoken69:t},(()=>{console.log("Token saved in storage.")})),chrome.runtime.sendMessage({action:"setToken",autotoken69:t}),v(!1),s("dash")}}catch(e){console.error("Error during signup",e)}finally{v(!1)}}},className:"mt-4 bg-[rgb(47,141,113)] hover:bg-[rgb(18,107,70)] text-white py-[13px] px-20 md:py-[16px] md:px-20 rounded-md transition duration-300 font-semibold border-none text-sm "+(j?"opacity-50 cursor-not-allowed":""),disabled:j,children:[!j&&(0,n.jsx)("p",{children:"Sign up"}),j&&(0,n.jsx)("p",{children:"Loading.."})]})]})]})]})})})})]})})})}s(5682);const d=()=>{const[e,t]=(0,a.useState)("login"),[s,o]=(0,a.useState)(""),[r,d]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{d(!0),chrome.storage.local.get(["autotoken69"],(e=>{e.autotoken69&&(chrome.runtime.sendMessage({action:"setToken",autotoken69:e.autotoken69}),t("dash"))})),d(!1)}),[]),(0,n.jsxs)("div",{className:"",children:["login"==e&&(0,n.jsx)(l,{page:e,setpage:t}),"signup"==e&&(0,n.jsx)(c,{page:e,setpage:t}),"dash"==e&&(0,n.jsx)(i,{page:e,setpage:t})]})},u=document.createElement("div");document.body.appendChild(u);(0,o.createRoot)(u).render((0,n.jsx)(d,{}))}},s={};function a(e){var o=s[e];if(void 0!==o)return o.exports;var r=s[e]={id:e,exports:{}};return t[e](r,r.exports,a),r.exports}a.m=t,e=[],a.O=(t,s,o,r)=>{if(!s){var n=1/0;for(d=0;d<e.length;d++){for(var[s,o,r]=e[d],l=!0,i=0;i<s.length;i++)(!1&r||n>=r)&&Object.keys(a.O).every((e=>a.O[e](s[i])))?s.splice(i--,1):(l=!1,r<n&&(n=r));if(l){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[s,o,r]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={887:0};a.O.j=t=>0===e[t];var t=(t,s)=>{var o,r,[n,l,i]=s,c=0;if(n.some((t=>0!==e[t]))){for(o in l)a.o(l,o)&&(a.m[o]=l[o]);if(i)var d=i(a)}for(t&&t(s);c<n.length;c++)r=n[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(d)},s=self.webpackChunktab_saver_extension=self.webpackChunktab_saver_extension||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})(),a.nc=void 0;var o=a.O(void 0,[607,479,682],(()=>a(5010)));o=a.O(o)})();